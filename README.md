# âš¡ Auto_Overnight_API

- ì™¸ë°• ì‹ ì²­ ë° ë¡œê·¸ì¸ ë“± ì—¬ëŸ¬ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” APIì…ë‹ˆë‹¤.

- serverlessì˜ nodejs í…œí”Œë¦¿ì„ ì´ìš©í•´ AWS lambdaì— ë°°í¬í–ˆìŠµë‹ˆë‹¤.

- ìì„¸í•œ ì½”ë“œëŠ” [ì—¬ê¸°](https://github.com/AUTO-Overnight/Auto_Overnight_API/blob/main/src/handler.js)ë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”!

## ğŸ“ API

- ëª¨ë“  ìš”ì²­ì€ POSTë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.


### login

* ë¡œê·¸ì¸ì„ ì‹œë„í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

#### ì…ë ¥

```
{
    "id" : "201112345678",
    "password" : "1234"
}
```

#### ì¶œë ¥

```
{
    "cookies": "_SSO_Global_Logout_url=get%5 ... amV1c19kb21haW4vanN2XzI=",
    "name": "í™ê¸¸ë™",
    "yy" : 2021,
    "tmGbn" : 2,
    "outStayFrDt": [
        "20210830",
        "20210827",
        "20210825"
    ],
    "outStayToDt": [
        "20210830",
        "20210829",
        "20210825"
    ],
    "outStayStGbn": [
        "2",
        "2",
        "2"
    ]
}
```

* yy ë…„ë„

* tmGbn  í•™ê¸° êµ¬ë¶„ ( 1í•™ê¸° : 1 / 2í•™ê¸° : 2 / ì—¬ë¦„í•™ê¸° : 5 / ê²¨ìš¸í•™ê¸° : 6 )

* outStayStGbn  1 : ë¯¸ìŠ¹ì¸ / 2 : ìŠ¹ì¸

### sendStayOut

* ì™¸ë°• ì‹ ì²­ì„ í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

#### ì…ë ¥

```
{
    "date_list" : [20210831, 20210901, 20210902, 20210903, 20210904, 20210905],
    "is_weekend" : [0, 0, 0, 1, 1, 1],
    "outStayAplyDt" : "20210831",
    "schregNo" : "201112345678",
    "cookies" : "_SSO_Global_Logout_url=get%5 ... amV1c19kb21haW4vanN2XzI= "
}
```

* is_weekend  0 : í‰ì¼ / 1 : ì£¼ë§

* outStayAplyDt  ì˜¤ëŠ˜ ë‚ ì§œ

* schregNo  í•™ë²ˆ

#### ì¶œë ¥

```
{
    "outStayFrDt": [
        "20210905",
        "20210904",
        "20210903",
        "20210902",
        "20210901",
        "20210831",
        "20210830",
        "20210827",
        "20210825"
    ],
    "outStayToDt": [
        "20210905",
        "20210904",
        "20210903",
        "20210902",
        "20210901",
        "20210831",
        "20210830",
        "20210829",
        "20210825"
    ],
    "outStayStGbn": [
        "1",
        "1",
        "1",
        "1",
        "1",
        "1",
        "2",
        "2",
        "2"
    ]
}
```

* ì™¸ë°•ì‹ ì²­ì— ì„±ê³µí•˜ë©´ ì™¸ë°• ì‹ ì²­ ë‚´ì—­ì„ return í•©ë‹ˆë‹¤.

### findStayOutList

* ì™¸ë°• ì‹ ì²­ ë‚´ì—­ì„ ì¡°íšŒí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

#### ì…ë ¥

```
{
    "yy" : "2021",
    "tmGbn" : "2",
    "schregNo" : "201112345678",
    "userNm" : "í™ê¸¸ë™",
    "cookies" : "_SSO_Global_Logout_url=get%5 ... amV1c19kb21haW4vanN2XzI="
}
```

* yy  ë…„ë„

* tmGbn  í•™ê¸° êµ¬ë¶„ / 1í•™ê¸° : 1 / 2í•™ê¸° : 2 / ì—¬ë¦„í•™ê¸° : 5 / ê²¨ìš¸í•™ê¸° : 6

* schregNo  í•™ë²ˆ

#### ì¶œë ¥

```
{
    "outStayFrDt": [
        "20210830",
        "20210827",
        "20210825"
    ],
    "outStayToDt": [
        "20210830",
        "20210829",
        "20210825"
    ],
    "outStayStGbn": [
        "2",
        "2",
        "2"
    ]
}
```

### findPointList

* ìƒë²Œì  ë‚´ì—­ì„ ì¡°íšŒí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

#### ì…ë ¥

```
{
    "schregNo" : "201112345678",
    "userNm" : "í™ê¸¸ë™",
    "cookies" : "_SSO_Global_Logout_url=get%5 ... amV1c19kb21haW4vanN2XzI="
}
```

* schregNo  í•™ë²ˆ

#### ì¶œë ¥

```
{
    "cmpScr": [
        "-6",
        "-6"
    ],
    "lifSstArdGbn": [
        "2",
        "2"
    ],
    "ardInptDt": [
        "20210808",
        "20210807"
    ],
    "lifSstArdCtnt": [
        "ì²´ì˜¨ë¯¸ì¸¡ì •",
        "ì²´ì˜¨ë¯¸ì¸¡ì •"
    ]
}
```

* cmpScr  ìƒë²Œì  ìˆ˜ì¹˜

* lifSstArdGbn  ìƒë²Œì  êµ¬ë¶„ / 1 : ìƒì  / 2 : ë²Œì 

* ardInptDt  ìƒë²Œì¼ì

* lifSstArdCtnt  ìƒë²Œë‚´ìš©


